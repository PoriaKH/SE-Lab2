## بوی کد شناسایی‌شده (Code Smells Identified)

| # | مورد | توضیحات |
|--|------|---------|
| 1 | **کلاس خدا (God Class)** | کلاس `PaymentProcessor` وظایف زیادی دارد: اعتبارسنجی، پردازش، ثبت گزارش، و یکپارچه‌سازی. |
| 2 | **پیکربندی هاردکدشده** | آدرس‌های API مستقیماً در یک نگاشت پیکربندی ذخیره شده و بدون واسطه استفاده می‌شوند. |
| 3 | **شرط طولانی / سوئیچ** | استفاده از `switch(paymentType)` به جای پلی‌مورفیسم. |
| 4 | **متد طولانی** | متد `validatePayment` چندین وظیفه را به عهده دارد و توسعه آن دشوار است. |
| 5 | **تکرار کد** | منطق مشابهی در متدهای مختلف `processXXX` تکرار شده است. |
| 6 | **فقدان انتزاع** | همه نوع‌های پرداخت و منطق دروازه پرداخت در یک کلاس واحد قرار دارند. |
| 7 | **وابستگی شدید** | وابستگی مستقیم به منطق هر نوع پرداخت در ساختاری یکپارچه و بزرگ. |

---

## نقض اصول SOLID

| اصل | نقض |
|----------|-----------|
| **S - Single Responsibility** | کلاس `PaymentProcessor` چندین وظیفه دارد که باید در کلاس‌های جداگانه باشند. |
| **O - Open/Closed** | افزودن نوع پرداخت جدید نیاز به تغییر در بلوک `switch` دارد. |
| **L - Liskov Substitution** | هنوز کاربرد ندارد، اما ساختار فعلی از قابلیت جایگزینی نوع‌ها پشتیبانی نمی‌کند. |
| **I - Interface Segregation** | هیچ واسطی برای تفکیک مسئولیت‌های پرداخت یا دروازه پرداخت وجود ندارد. |
| **D - Dependency Inversion** | کلاس به منطق پیاده‌سازی‌شده وابسته است (مثلاً تماس‌های API، اعتبارسنجی پرداخت). |

---

## مستندسازی یا توضیحات درون‌خطی پیشنهادی

```java
// بوی کد شناسایی‌شده:
// 1. God Class - PaymentProcessor کارهای زیادی انجام می‌دهد.
// 2. استفاده از endpointهای هاردکدشده در نگاشت پیکربندی.
// 3. استفاده از ساختار switch-case به جای پلی‌مورفیسم.
// 4. منطق تکراری در متدهای مختلف processXXX.
// 5. نقض اصول SRP, OCP, DIP از SOLID.
```

---

